{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { getPatients } from \"../services/Database\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar STATUS_COLORS = {\n  'CRITICAL': '#ef4444',\n  'URGENT': '#eab308',\n  'STABLE': '#22c55e'\n};\nvar DashboardScreen = function DashboardScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    patients = _useState2[0],\n    setPatients = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    refreshing = _useState4[0],\n    setRefreshing = _useState4[1];\n  var loadData = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setRefreshing(true);\n      var data = yield getPatients();\n      setPatients(data);\n      setRefreshing(false);\n    });\n    return function loadData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    loadData();\n  }, []);\n  var renderItem = function renderItem(_ref3) {\n    var item = _ref3.item;\n    return _jsxs(TouchableOpacity, {\n      style: [styles.card, {\n        borderLeftColor: STATUS_COLORS[item.status] || '#ccc'\n      }],\n      onPress: function onPress() {\n        return navigation.navigate('Imaging', {\n          patient: item\n        });\n      },\n      children: [_jsxs(View, {\n        style: styles.cardHeader,\n        children: [_jsx(Text, {\n          style: styles.timestamp,\n          children: new Date(item.timestamp).toLocaleTimeString()\n        }), _jsx(View, {\n          style: [styles.badge, {\n            backgroundColor: STATUS_COLORS[item.status]\n          }],\n          children: _jsx(Text, {\n            style: styles.badgeText,\n            children: item.status\n          })\n        })]\n      }), _jsx(Text, {\n        style: styles.diagnosis,\n        children: item.diagnosis\n      }), _jsxs(Text, {\n        style: styles.confidence,\n        children: [\"Confidence: \", (item.confidence * 100).toFixed(1), \"%\"]\n      })]\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"Priority Queue\"\n      }), _jsx(TouchableOpacity, {\n        style: styles.scanButton,\n        onPress: function onPress() {\n          return navigation.navigate('Imaging');\n        },\n        children: _jsx(Text, {\n          style: styles.scanButtonText,\n          children: \"+ New Scan\"\n        })\n      })]\n    }), _jsx(FlatList, {\n      data: patients,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      },\n      refreshControl: _jsx(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: loadData\n      }),\n      contentContainerStyle: styles.listContent\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f4f4f5'\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 16,\n    backgroundColor: '#fff',\n    borderBottomWidth: 1,\n    borderBottomColor: '#e4e4e7'\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#18181b'\n  },\n  scanButton: {\n    backgroundColor: '#3b82f6',\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 8\n  },\n  scanButtonText: {\n    color: '#fff',\n    fontWeight: 'bold'\n  },\n  listContent: {\n    padding: 16\n  },\n  card: {\n    backgroundColor: '#fff',\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 12,\n    borderLeftWidth: 6,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 2,\n    elevation: 2\n  },\n  cardHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 8\n  },\n  timestamp: {\n    color: '#71717a',\n    fontSize: 12\n  },\n  badge: {\n    paddingHorizontal: 8,\n    paddingVertical: 2,\n    borderRadius: 12\n  },\n  badgeText: {\n    color: '#fff',\n    fontSize: 10,\n    fontWeight: 'bold'\n  },\n  diagnosis: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#27272a'\n  },\n  confidence: {\n    fontSize: 12,\n    color: '#a1a1aa',\n    marginTop: 4\n  }\n});\nexport default DashboardScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","TouchableOpacity","StyleSheet","RefreshControl","getPatients","jsx","_jsx","jsxs","_jsxs","STATUS_COLORS","DashboardScreen","_ref","navigation","_useState","_useState2","_slicedToArray","patients","setPatients","_useState3","_useState4","refreshing","setRefreshing","loadData","_ref2","_asyncToGenerator","data","apply","arguments","renderItem","_ref3","item","style","styles","card","borderLeftColor","status","onPress","navigate","patient","children","cardHeader","timestamp","Date","toLocaleTimeString","badge","backgroundColor","badgeText","diagnosis","confidence","toFixed","container","header","title","scanButton","scanButtonText","keyExtractor","id","toString","refreshControl","onRefresh","contentContainerStyle","listContent","create","flex","flexDirection","justifyContent","alignItems","padding","borderBottomWidth","borderBottomColor","fontSize","fontWeight","color","paddingHorizontal","paddingVertical","borderRadius","marginBottom","borderLeftWidth","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","marginTop"],"sources":["/Users/ae/Revive/SoundScopeAI/triage_dashboard/src/screens/DashboardScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, FlatList, TouchableOpacity, StyleSheet, RefreshControl } from 'react-native';\nimport { getPatients } from '../services/Database';\n\nconst STATUS_COLORS = {\n    'CRITICAL': '#ef4444', // Red\n    'URGENT': '#eab308',   // Yellow\n    'STABLE': '#22c55e',   // Green\n};\n\nconst DashboardScreen = ({ navigation }) => {\n    const [patients, setPatients] = useState([]);\n    const [refreshing, setRefreshing] = useState(false);\n\n    const loadData = async () => {\n        setRefreshing(true);\n        const data = await getPatients();\n        setPatients(data);\n        setRefreshing(false);\n    };\n\n    useEffect(() => {\n        loadData();\n    }, []);\n\n    const renderItem = ({ item }) => {\n        return (\n            <TouchableOpacity\n                style={[styles.card, { borderLeftColor: STATUS_COLORS[item.status] || '#ccc' }]}\n                onPress={() => navigation.navigate('Imaging', { patient: item })}\n            >\n                <View style={styles.cardHeader}>\n                    <Text style={styles.timestamp}>\n                        {new Date(item.timestamp).toLocaleTimeString()}\n                    </Text>\n                    <View style={[styles.badge, { backgroundColor: STATUS_COLORS[item.status] }]}>\n                        <Text style={styles.badgeText}>{item.status}</Text>\n                    </View>\n                </View>\n                <Text style={styles.diagnosis}>{item.diagnosis}</Text>\n                <Text style={styles.confidence}>Confidence: {(item.confidence * 100).toFixed(1)}%</Text>\n            </TouchableOpacity>\n        );\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.header}>\n                <Text style={styles.title}>Priority Queue</Text>\n                <TouchableOpacity style={styles.scanButton} onPress={() => navigation.navigate('Imaging')}>\n                    <Text style={styles.scanButtonText}>+ New Scan</Text>\n                </TouchableOpacity>\n            </View>\n            <FlatList\n                data={patients}\n                renderItem={renderItem}\n                keyExtractor={item => item.id.toString()}\n                refreshControl={<RefreshControl refreshing={refreshing} onRefresh={loadData} />}\n                contentContainerStyle={styles.listContent}\n            />\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: { flex: 1, backgroundColor: '#f4f4f5' },\n    header: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: 16,\n        backgroundColor: '#fff',\n        borderBottomWidth: 1,\n        borderBottomColor: '#e4e4e7'\n    },\n    title: { fontSize: 20, fontWeight: 'bold', color: '#18181b' },\n    scanButton: { backgroundColor: '#3b82f6', paddingHorizontal: 16, paddingVertical: 8, borderRadius: 8 },\n    scanButtonText: { color: '#fff', fontWeight: 'bold' },\n    listContent: { padding: 16 },\n    card: {\n        backgroundColor: '#fff',\n        borderRadius: 8,\n        padding: 16,\n        marginBottom: 12,\n        borderLeftWidth: 6,\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 1 },\n        shadowOpacity: 0.1,\n        shadowRadius: 2,\n        elevation: 2,\n    },\n    cardHeader: { flexDirection: 'row', justifyContent: 'space-between', marginBottom: 8 },\n    timestamp: { color: '#71717a', fontSize: 12 },\n    badge: { paddingHorizontal: 8, paddingVertical: 2, borderRadius: 12 },\n    badgeText: { color: '#fff', fontSize: 10, fontWeight: 'bold' },\n    diagnosis: { fontSize: 16, fontWeight: '600', color: '#27272a' },\n    confidence: { fontSize: 12, color: '#a1a1aa', marginTop: 4 },\n});\n\nexport default DashboardScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}